/* 唱片播放器样式 */

.vinyl-player {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    width: 100%;
    max-width: 600px;
    padding: 40px;
}

/* ===== 唱片机底座 ===== */
/* ===== 唱片机底座 ===== */
.player-cabinet {
    position: relative;
    width: 100%;
    aspect-ratio: 1.1 / 1;
    background:
        var(--wood-dark),
        url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.6' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='0.08'/%3E%3C/svg%3E");
    border-radius: var(--radius-lg);
    box-shadow:
        0 20px 50px rgba(0, 0, 0, 0.5),
        0 5px 15px rgba(0, 0, 0, 0.3),
        inset 0 1px 0 rgba(255, 255, 255, 0.15),
        inset 0 -2px 0 rgba(0, 0, 0, 0.3);
    padding: 30px;
    overflow: hidden;

    /* 木纹纹理强化 */
    background-image:
        linear-gradient(160deg,
            rgba(255, 255, 255, 0.1) 0%,
            /* 高光 */
            transparent 40%,
            rgba(0, 0, 0, 0.2) 100%
            /* 阴影 */
        ),
        repeating-linear-gradient(88deg,
            var(--wood-medium) 0px,
            var(--wood-dark) 2px,
            var(--wood-medium) 4px,
            var(--wood-dark) 8px,
            var(--wood-darkest) 12px);
    background-blend-mode: overlay, normal;
}

/* 内层装饰框（黄铜嵌件） */
.player-cabinet::after {
    content: '';
    position: absolute;
    inset: 12px;
    border: 4px solid transparent;
    border-image: linear-gradient(135deg,
            var(--brass-dark) 0%,
            var(--brass-light) 50%,
            var(--brass-dark) 100%) 1;
    border-radius: var(--radius-md);
    /* 注意：border-image不支持radius，需用mask或clip path，这里简化处理 */
    /* 使用 box-shadow 模拟边框以支持圆角 */
    box-shadow: 0 0 0 2px var(--brass-dark), inset 0 0 10px rgba(0, 0, 0, 0.5);
    pointer-events: none;
    opacity: 0.6;
}

/* ===== 唱片转盘区域 ===== */
.turntable {
    position: relative;
    width: 100%;
    aspect-ratio: 1;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(0, 0, 0, 0.2);
    border-radius: 50%;
    box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.5);
}

/* 转盘金属底盘 */
.platter-base {
    position: absolute;
    width: 94%;
    aspect-ratio: 1;
    background: conic-gradient(from 0deg,
            #333 0%,
            #444 10%,
            #222 20%,
            #333 30%,
            #555 40%,
            #222 50%,
            #444 60%,
            #333 70%,
            #222 80%,
            #555 90%,
            #333 100%);
    border-radius: 50%;
    box-shadow:
        0 10px 30px rgba(0, 0, 0, 0.6),
        inset 0 0 0 2px rgba(255, 255, 255, 0.1);
    /* 金属拉丝纹理 */
    filter: contrast(1.1);
}

/* 唱片黑胶 */
.vinyl-disc {
    position: absolute;
    width: 86%;
    aspect-ratio: 1;
    border-radius: 50%;
    background: var(--vinyl-black);
    box-shadow:
        0 4px 12px rgba(0, 0, 0, 0.4),
        inset 0 0 0 3px #111;
    /* 边缘加黑 */
    transform-origin: center center;
    z-index: 5;
}

/* 唱片沟槽高光 */
.vinyl-disc::before {
    content: '';
    position: absolute;
    inset: 2%;
    /* 留出边缘 */
    border-radius: 50%;
    background: repeating-radial-gradient(circle at center,
            #111 0px,
            #111 2px,
            var(--vinyl-groove) 3px,
            #111 4px);
    /* 增加光泽叠加 */
    mask-image: radial-gradient(white, black);
}

/* 动态反光 */
.vinyl-disc::after {
    content: '';
    position: absolute;
    inset: 0;
    border-radius: 50%;
    background: conic-gradient(from 45deg,
            transparent 0%,
            rgba(255, 255, 255, 0.08) 15%,
            transparent 30%,
            transparent 50%,
            rgba(255, 255, 255, 0.12) 65%,
            transparent 80%);
    filter: blur(1px);
    pointer-events: none;
    mix-blend-mode: screen;
}

/* ===== 唱片中心标签 ===== */
.vinyl-label {
    position: absolute;
    width: 34%;
    aspect-ratio: 1;
    border-radius: 50%;
    background:
        radial-gradient(circle at center,
            transparent 0%,
            rgba(0, 0, 0, 0.2) 100%),
        var(--vinyl-label);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    box-shadow:
        0 0 0 1px rgba(0, 0, 0, 0.3),
        inset 0 2px 5px rgba(255, 255, 255, 0.2);
    z-index: 6;
    overflow: hidden;
    border: 4px solid #111;
    /* 标签与唱片交接处 */
}

/* 中心金属轴帽 */
.vinyl-label::before {
    content: '';
    position: absolute;
    width: 12px;
    height: 12px;
    background: radial-gradient(circle at 30% 30%, #eee, #999);
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.5);
    z-index: 7;
}

/* 标签文字 */
.label-title {
    font-family: 'Old Standard TT', serif;
    font-size: clamp(8px, 2vw, 14px);
    color: var(--gold);
    text-transform: uppercase;
    letter-spacing: 0.15em;
    margin-top: 30%;
    text-shadow: 0 1px 2px rgba(0, 0, 0, 0.5);
}

.label-composer {
    font-family: 'Crimson Text', serif;
    font-size: clamp(6px, 1.5vw, 10px);
    color: rgba(255, 255, 255, 0.8);
    margin-top: 4px;
}

/* ===== 唱针臂 ===== */
.tonearm-container {
    position: absolute;
    top: 8%;
    right: 8%;
    width: 45%;
    aspect-ratio: 0.2/1;
    transform-origin: top right;
    z-index: 10;
}

.tonearm {
    position: relative;
    width: 100%;
    height: 100%;
    transform-origin: 85% 8%;
    transform: rotate(-30deg);
    transition: transform 1s cubic-bezier(0.4, 0, 0.2, 1);
}

.tonearm.playing {
    transform: rotate(-5deg);
}

/* 唱针臂基座 */
.tonearm-base {
    position: absolute;
    top: 0;
    right: 0;
    width: 40px;
    height: 40px;
    background: linear-gradient(135deg,
            var(--chrome) 0%,
            #888 50%,
            var(--chrome-dark) 100%);
    border-radius: 50%;
    box-shadow:
        0 4px 12px rgba(0, 0, 0, 0.4),
        inset 0 2px 4px rgba(255, 255, 255, 0.3);
}

/* 唱针臂杆 */
.tonearm-arm {
    position: absolute;
    top: 20px;
    right: 15px;
    width: 8px;
    height: calc(100% - 30px);
    background: linear-gradient(90deg,
            var(--chrome-dark) 0%,
            var(--chrome) 50%,
            var(--chrome-dark) 100%);
    border-radius: 4px;
    transform-origin: top center;
    transform: rotate(15deg);
    box-shadow: 2px 4px 8px rgba(0, 0, 0, 0.3);
}

/* 唱针头 */
.tonearm-head {
    position: absolute;
    bottom: 0;
    left: 50%;
    transform: translateX(-50%);
    width: 20px;
    height: 35px;
    background: linear-gradient(135deg,
            #333 0%,
            #1a1a1a 100%);
    border-radius: 2px 2px 4px 4px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
}

/* 唱针 */
.stylus {
    position: absolute;
    bottom: -8px;
    left: 50%;
    transform: translateX(-50%);
    width: 2px;
    height: 10px;
    background: linear-gradient(to bottom,
            var(--chrome) 0%,
            #ddd 100%);
}

/* ===== 控制面板 ===== */
.controls-panel {
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 24px;
    margin-top: 24px;
    padding: 16px 32px;
    background: linear-gradient(to bottom,
            var(--wood-dark),
            var(--wood-darkest));
    border-radius: var(--radius-md);
    box-shadow: var(--shadow-inset);
}

/* ===== 播放按钮 ===== */
.control-btn {
    position: relative;
    width: 56px;
    height: 56px;
    background: linear-gradient(145deg,
            var(--brass-light) 0%,
            var(--brass) 50%,
            var(--brass-dark) 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow:
        0 4px 12px rgba(0, 0, 0, 0.3),
        inset 0 2px 4px rgba(255, 255, 255, 0.3),
        inset 0 -2px 4px rgba(0, 0, 0, 0.2);
    transition: all var(--transition-fast);
}

.control-btn:hover {
    transform: scale(1.05);
    box-shadow:
        0 6px 16px rgba(0, 0, 0, 0.4),
        inset 0 2px 4px rgba(255, 255, 255, 0.4);
}

.control-btn:active {
    transform: scale(0.98);
}

.control-btn.primary {
    width: 72px;
    height: 72px;
}

.control-btn svg {
    width: 24px;
    height: 24px;
    fill: var(--wood-darkest);
}

.control-btn.primary svg {
    width: 32px;
    height: 32px;
}

/* ===== 小型控制按钮 ===== */
.control-btn-sm {
    width: 44px;
    height: 44px;
    background: linear-gradient(145deg,
            var(--chrome) 0%,
            var(--chrome-dark) 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    box-shadow:
        0 2px 8px rgba(0, 0, 0, 0.3),
        inset 0 1px 2px rgba(255, 255, 255, 0.3);
    transition: all var(--transition-fast);
}

.control-btn-sm:hover {
    background: linear-gradient(145deg,
            #d0d0d0 0%,
            var(--chrome) 100%);
}

.control-btn-sm svg {
    width: 20px;
    height: 20px;
    fill: var(--wood-dark);
}

/* ===== LED 指示灯 ===== */
.led-indicator {
    position: absolute;
    bottom: 16px;
    left: 16px;
    width: 12px;
    height: 12px;
    border-radius: 50%;
    background: var(--led-red);
    box-shadow: 0 0 4px var(--led-red-glow);
    transition: all var(--transition-normal);
}

.led-indicator.active {
    background: var(--led-green);
    box-shadow: 0 0 12px var(--led-green-glow);
}

/* ===== 进度条 ===== */
.progress-container {
    width: 100%;
    margin-top: 20px;
    padding: 0 20px;
}

.progress-bar {
    position: relative;
    width: 100%;
    height: 8px;
    background: var(--wood-darkest);
    border-radius: 4px;
    box-shadow: var(--shadow-inset);
    overflow: hidden;
    cursor: pointer;
}

.progress-fill {
    height: 100%;
    background: linear-gradient(90deg,
            var(--brass-dark),
            var(--brass));
    border-radius: 4px;
    transition: width 0.1s linear;
}

.progress-handle {
    position: absolute;
    top: 50%;
    transform: translate(-50%, -50%);
    width: 16px;
    height: 16px;
    background: var(--brass-light);
    border-radius: 50%;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.3);
    cursor: grab;
}

.progress-handle:active {
    cursor: grabbing;
    transform: translate(-50%, -50%) scale(1.1);
}

/* ===== 时间显示 ===== */
.time-display {
    display: flex;
    justify-content: space-between;
    margin-top: 8px;
    padding: 0 20px;
    font-family: 'Old Standard TT', monospace;
    font-size: 14px;
    color: var(--brass);
}

/* ===== 音量控制 ===== */
.volume-control {
    display: flex;
    align-items: center;
    gap: 12px;
}

.volume-slider {
    width: 80px;
    height: 6px;
    background: var(--wood-darkest);
    border-radius: 3px;
    appearance: none;
    cursor: pointer;
}

.volume-slider::-webkit-slider-thumb {
    appearance: none;
    width: 14px;
    height: 14px;
    background: var(--brass);
    border-radius: 50%;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
    cursor: pointer;
}

/* ===== 曲目信息 ===== */
.track-info {
    text-align: center;
    margin-top: 20px;
    color: var(--paper-cream);
}

.track-title {
    font-family: 'Playfair Display', 'Noto Serif SC', serif;
    font-size: 1.25rem;
    font-weight: 600;
    margin-bottom: 4px;
}

.track-composer {
    font-family: 'Crimson Text', serif;
    font-size: 1rem;
    color: var(--brass);
}